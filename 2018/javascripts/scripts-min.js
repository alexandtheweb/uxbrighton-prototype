function scrollTo(t,e,o){function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}var r=n(),s=t-r,a=0,l=20;o=void 0===o?500:o;var c=function(){a+=20,i(Math.easeOutCubic(a,r,s,o)),a<o?requestAnimFrame(c):e&&"function"==typeof e&&e()};c()}+function($){"use strict";function t(e,o){this.$body=$(document.body),this.$scrollElement=$($(e).is(document.body)?window:e),this.options=$.extend({},t.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var o=$(this),i=o.data("bs.scrollspy"),n="object"==typeof e&&e;i||o.data("bs.scrollspy",i=new t(this,n)),"string"==typeof e&&i[e]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,e="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(e="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=$(this),i=t.data("target")||t.attr("href"),n=/^#./.test(i)&&$(i);return n&&n.length&&n.is(":visible")&&[[n[e]().top+o,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),o=this.options.offset+e-this.$scrollElement.height(),i=this.offsets,n=this.targets,r=this.activeTarget,s;if(this.scrollHeight!=e&&this.refresh(),t>=o)return r!=(s=n[n.length-1])&&this.activate(s);if(r&&t<i[0])return this.activeTarget=null,this.clear();for(s=i.length;s--;)r!=n[s]&&t>=i[s]&&(void 0===i[s+1]||t<i[s+1])&&this.activate(n[s]);$(document).scrollTop()>20?$("body").addClass("scroll-started"):$("body").removeClass("scroll-started")},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',o=$(e).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=$.fn.scrollspy;$.fn.scrollspy=e,$.fn.scrollspy.Constructor=t,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=o,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var t=$(this);e.call(t,t.data())})})}(jQuery),function($){"use strict";$.fn.fitVids=function(t){var e={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("div");i.innerHTML='<p>x</p><style id="fit-vids-style">'+".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"+"</style>",o.appendChild(i.childNodes[1])}return t&&$.extend(e,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];e.customSelector&&t.push(e.customSelector);var o=".fitvidsignore";e.ignore&&(o=o+", "+e.ignore);var i=$(this).find(t.join(","));i=i.not("object object"),i=i.not(o),i.each(function(){var t=$(this);if(!(t.parents(o).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var e="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),n=e/i;if(!t.attr("name")){var r="fitvid"+$.fn.fitVids._count;t.attr("name",r),$.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}})})},$.fn.fitVids._count=0}(window.jQuery||window.Zepto),Math.easeInOutQuad=function(t,e,o,i){return(t/=i/2)<1?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},Math.easeInCubic=function(t,e,o,i){return e+o*((t/=i)*t*t)},Math.easeOutCubic=function(t,e,o,i){var n=(t/=i)*t;return e+o*(n*t+-3*n+3*t)},Math.inOutQuintic=function(t,e,o,i){var n=(t/=i)*t,r=n*t;return e+o*(6*r*n+-15*n*n+10*r)};var requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();$(function(){if($(".container").fitVids(),$(window).width()>699)var t=$(".masthead").height()-1;else var t=0;var e=t+1,o=300;$("body").scrollspy({target:".masthead__links",offset:e}),$(document).on("click touchstart",'a[href^="#"]:not([href="#"])',function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var e=$(this.hash);console.log("target",e),e=e.length?e:$("[name="+this.hash.slice(1)+"]");var o=e.offset().top-t;console.log("_goto",o),e.length&&scrollTo(o,null,300)}}),$("form.newletter-signup").submit(function(t){var e=t.target;t.preventDefault(),$.post(e.action,$(e).serialize()),$("form.newletter-signup").remove(),$("#js-signup-confirmation").show()})}),/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */
function(){if("undefined"!=typeof window&&window.addEventListener){var t=Object.create(null),e,o=function(){clearTimeout(e),e=setTimeout(s,100)},i=function(){},n=function(){if(window.addEventListener("resize",o,!1),window.addEventListener("orientationchange",o,!1),window.MutationObserver){var t=new MutationObserver(o);t.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),i=function(){try{t.disconnect(),window.removeEventListener("resize",o,!1),window.removeEventListener("orientationchange",o,!1)}catch(t){}}}else document.documentElement.addEventListener("DOMSubtreeModified",o,!1),i=function(){document.documentElement.removeEventListener("DOMSubtreeModified",o,!1),window.removeEventListener("resize",o,!1),window.removeEventListener("orientationchange",o,!1)}},r=function(t){function e(t){if(void 0!==t.protocol)var e=t;else e=document.createElement("a"),e.href=t;return e.protocol.replace(/:/g,"")+e.host}if(window.XMLHttpRequest){var o=new XMLHttpRequest,i=e(location);t=e(t),o=void 0===o.withCredentials&&""!==t&&t!==i?XDomainRequest||void 0:XMLHttpRequest}return o},s=function(){function e(){0===--h&&(i(),n())}function o(e){return function(){!0!==t[e.base]&&(e.useEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function s(t){return function(){var o=document.body,i=document.createElement("x");t.onload=null,i.innerHTML=t.responseText,(i=i.getElementsByTagName("svg")[0])&&(i.setAttribute("aria-hidden","true"),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.overflow="hidden",o.insertBefore(i,o.firstChild)),e()}}function a(t){return function(){t.onerror=null,t.ontimeout=null,e()}}var l,c,h=0;i();var d=document.getElementsByTagName("use");for(c=0;c<d.length;c+=1){try{var u=d[c].getBoundingClientRect()}catch(t){u=!1}var f=(l=d[c].getAttribute("href")||d[c].getAttributeNS("http://www.w3.org/1999/xlink","href")||d[c].getAttribute("xlink:href"))&&l.split?l.split("#"):["",""],m=f[0];f=f[1];var p=u&&0===u.left&&0===u.right&&0===u.top&&0===u.bottom;u&&0===u.width&&0===u.height&&!p?(m.length||!f||document.getElementById(f)||(m=""),d[c].hasAttribute("href")&&d[c].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l),m.length&&(l=t[m],!0!==l&&setTimeout(o({useEl:d[c],base:m,hash:f}),0),void 0===l&&void 0!==(f=r(m))&&(l=new f,t[m]=l,l.onload=s(l),l.onerror=a(l),l.ontimeout=a(l),l.open("GET",m),l.send(),h+=1))):p?m.length&&t[m]&&setTimeout(o({useEl:d[c],base:m,hash:f}),0):void 0===t[m]?t[m]=!0:t[m].onload&&(t[m].abort(),delete t[m].onload,t[m]=!0)}d="",h+=1,e()},a=function(){window.removeEventListener("load",a,!1),e=setTimeout(s,0)};"complete"!==document.readyState?window.addEventListener("load",a,!1):a()}}();

$(document).ready(function(){
var ToC =
"<nav role='navigation' class='table-of-contents' style='float: right; right: 100%; width: 40%; margin-left: 1rem; margin-bottom: 1rem; font-size: 1rem; background-color: #f2f3f3; padding: 1rem'>" +
  "<strong>On this page</strong>" +
  "<ul>";

var newLine, el, title, link;

$("#info h3[id]").each(function() {

el = $(this);
title = el.text();
link = "#" + el.attr("id");

newLine =
  "<li>" +
    "<a href='" + link + "'>" +
      title +
    "</a>" +
  "</li>";

ToC += newLine;

});

ToC +=
 "</ul>" +
"</nav>";

$("[data-toc]").after(ToC);
});
